# Search UI Demo - Vercel Style

## プロジェクト概要
このプロジェクトは、Vercel風のミニマルでクールなデザインを採用した検索UIデモアプリケーションです。
中央に配置された詳細検索フォームが、検索実行時に洗練されたアニメーションで右側に移動し、左側に検索結果を表示します。

## 技術スタック
- **フレームワーク**: Next.js 15.3.5 (App Router)
- **スタイリング**: Tailwind CSS v4
- **アニメーション**: Framer Motion
- **状態管理**: SWR
- **UIコンポーネント**: Radix UI (ヘッドレスコンポーネント)
- **アイコン**: Lucide React

## デザイン原則

### 1. ミニマリズム
- 不要な装飾を排除
- 機能性を重視したクリーンなインターフェース
- 余白を効果的に活用

### 2. モノクロームカラーパレット
```css
/* Light Mode */
--background: #ffffff;
--foreground: #000000;
--muted: #666666;
--border: #eaeaea;
--hover: #f5f5f5;

/* Dark Mode */
--background: #000000;
--foreground: #ffffff;
--muted: #888888;
--border: #333333;
--hover: #111111;
```

### 3. タイポグラフィ
- **フォント**: Geist Sans (Next.jsデフォルト)
- **サイズ**: 16px基準、8pxグリッドシステム
- **ウェイト**: 400 (通常), 500 (medium), 600 (semibold)

### 4. 間隔とレイアウト
- **グリッド**: 8の倍数 (8px, 16px, 24px, 32px, 48px, 64px)
- **コンテナ**: 最大幅 1200px
- **検索フォーム**: 初期 600px → 検索後 320px

### 5. アニメーション
- **タイプ**: Spring animation
- **設定**: `{ stiffness: 400, damping: 40, mass: 0.8 }`
- **duration**: 200-300ms
- **イージング**: ease-out

## コンポーネント構造

### UIコンポーネント
- `Button`: プライマリ、セカンダリ、ゴーストバリアント
- `Input`: ミニマルな入力フィールド、フォーカス時に黒ボーダー
- `Select`: カスタムドロップダウン、Radix UI使用
- `Switch`: トグルスイッチ、詳細オプション用
- `Card`: 検索結果表示用、ホバー時に微妙なシャドウ

### 機能コンポーネント
- `SearchContainer`: メインコンテナ、アニメーション制御
- `SearchForm`: 4項目の検索フォーム
- `SearchResults`: 検索結果の表示
- `SearchFilters`: 詳細フィルターオプション

## アニメーションフロー

1. **初期状態**
   - 検索フォームは画面中央に配置
   - 大きめのタイトルと説明文
   - 4つの検索オプションが縦に配置

2. **検索実行時**
   - 検索フォームが右側（320px幅）にスライド
   - 同時に高さが縮小し、コンパクトな形に変形
   - 左側から検索結果がフェードイン

3. **検索後**
   - 左側: 検索結果（flex-1）
   - 右側: 固定幅の検索フォーム（position: sticky）
   - スムーズなスクロール体験

## レスポンシブデザイン

### デスクトップ (1024px以上)
- 完全な分割ビュー
- アニメーション有効

### タブレット (768px-1023px)
- 検索フォームは折りたたみ可能
- 結果表示を優先

### モバイル (767px以下)
- 検索後は結果のみ表示
- フローティング検索ボタン
- ボトムシートスタイルの検索フォーム

## コーディング規約

### TypeScript
- 厳格な型定義
- インターフェースを優先
- 型の再利用を促進
- `any`型の使用は一時的・緊急時のみ許可
- 型が不明な場合は`unknown`を使用し、型ガードで絞り込む

### React
- 関数コンポーネントのみ使用
- カスタムフックで状態管理
- メモ化を適切に使用

### スタイリング
- Tailwind CSSクラスを使用
- カスタムCSSは最小限
- ダークモード対応必須

### ファイル構成
```
components/
  ui/           # 再利用可能なUIコンポーネント
  features/     # 機能別コンポーネント
hooks/          # カスタムフック
lib/            # ユーティリティ関数
app/            # Next.js App Router
```

## パフォーマンス最適化
- コンポーネントの遅延読み込み
- 画像の最適化（Next.js Image）
- バンドルサイズの最小化
- アニメーションのGPU最適化

## 今後の拡張予定
- 実際のSearch APIとの連携
- 検索履歴の保存
- キーボードショートカット
- 音声検索対応

## Google Custom Search API仕様

### 主要パラメータ

1. **基本検索パラメータ**
   - `q`: メイン検索クエリ（必須）
   - `cx`: カスタム検索エンジンID（必須）
   - `key`: APIキー（必須）

2. **検索ロジックパラメータ**
   - `exactTerms`: すべての検索結果に含まれる必須フレーズ
   - `orTerms`: いずれか1つ以上を含む追加検索語（パイプ`|`で区切り）
   - `hq`: AND条件として追加される検索語
   - `excludeTerms`: 除外する語句

3. **フィルタリングパラメータ**
   - `siteSearch`: 特定サイトに限定
   - `siteSearchFilter`: include/exclude指定
   - `lr`: 言語制限（例: lang_ja）
   - `cr`: 国制限（例: countryJP）

### 実装時の注意事項

1. **orTermsパラメータの使用**
   ```
   // Stack Overflowの実例より
   q=john doe&orTerms=wikipedia|imdb
   // 結果: john AND doe AND (wikipedia OR imdb)
   ```

2. **検索クエリの構築**
   - AND検索: スペース区切りまたは`hq`パラメータ使用
   - OR検索: `orTerms`パラメータまたは`q`内で`(A OR B)`形式
   - 完全一致: ダブルクォートで囲む `"検索語"`

3. **制限事項**
   - ワイルドカード（*）は使用不可
   - 前方一致・後方一致の直接的なサポートなし
   - 正規表現は使用不可

### バックエンド実装時の確認事項

1. orTermsパラメータの区切り文字（パイプ`|`）の動作確認
2. 日本語検索時のエンコーディング処理
3. siteSearchパラメータでの複数サイト指定方法
4. APIレート制限とエラーハンドリング

### 検索対象サイトの実装方法

1. **siteSearchパラメータの制限**
   - 単一サイトのみ指定可能
   - 複数サイトの場合は`q`パラメータ内で`site:`演算子を使用

2. **複数サイトのOR検索**
   ```
   q: "山田太郎" (site:facebook.com OR site:linkedin.com)
   ```

3. **サイト除外検索**
   ```
   q: "山田太郎" -site:example.com -site:spam.com
   ```

4. **注意事項**
   - 複数サイトのAND検索は論理的に不可能
   - サイト数が多い場合はクエリ長の制限に注意